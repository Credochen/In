~function(){var j=document.head||document.getElementsByTagName("head")[0];var d={};var m={};var c={};var f={autoload:false,core:"",serial:false};var h;var l=function(q,s,w,v){if(c[q]){if(v){setTimeout(function(){l(q,s,w,v)},1);return}return}if(m[q]){if(v){v();return}return}c[q]=true;var p=q.split("?")[0];var u,r=s||p.toLowerCase().substring(p.lastIndexOf(".")+1);if(r==="js"){u=document.createElement("script");u.type="text/javascript";u.src=q;u.async="true";if(w){u.charset=w}}else{if(r==="css"){u=document.createElement("link");u.type="text/css";u.rel="stylesheet";u.href=q;m[q]=true;c[q]=false;j.appendChild(u);if(v){v()}return}}u.onload=u.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){c[q]=false;m[q]=true;if(v){v()}u.onload=u.onreadystatechange=null}};u.onerror=function(){c[q]=false;if(v){v()}u.onerror=null};j.appendChild(u)};var b=function(t){var q=[];for(var r=t.length-1;r>=0;r--){var s=t[r];if(typeof(s)==="string"){if(!d[s]){console&&console.warn("model not found:"+s);continue}q.push(s);var p=d[s].rely;if(p){q=q.concat(b(p))}}else{if(typeof(s)==="function"){q.push(s)}}}return q};var k=function(p){var q=this;this.stackline=p;this.current=this.stackline[0];this.bag={returns:[],complete:false};this.start=function(){if(typeof(q.current)!="function"&&d[q.current]){l(d[q.current].path,d[q.current].type,d[q.current].charset,q.next)}else{q.bag.returns.push(q.current());q.next()}};this.next=function(){if(q.stackline.length==1||q.stackline.length<1){q.bag.complete=true;if(q.bag.oncomplete){q.bag.oncomplete(q.bag.returns)}return}q.stackline.shift();q.current=q.stackline[0];q.start()}};var n=function(q,p){if(!q||!p||!p.path){return}d[q]=p};var i=function(q,p){f[q]=p};var g=function(q){var p=document.getElementById("in-inline-css");if(!p){p=document.createElement("style");p.type="text/css";p.id="in-inline-css";j.appendChild(p)}if(p.styleSheet){p.styleSheet.cssText=p.styleSheet.cssText+q}else{p.appendChild(document.createTextNode(q))}};var a=function(){var p=[].slice.call(arguments);var q=p.shift();window.setTimeout(function(){h.apply(this,p)},q)};var e=function(){var p=arguments;o(window,function(){h.apply(this,p)})};var h=function(){var s=[].slice.call(arguments);if(f.core&&f.autoload&&!m[f]){n("__core",{path:f.core});s=["__core"].concat(s)}if(f.serial){var r=b(s).reverse();var q=new k(r);q.start();return q.bag}if(typeof(s[s.length-1])==="function"){var v=s.pop();var p=s.length;var u={returns:null,complete:false}}for(var t=0;t<s.length;t++){var r=b([s[t]]).reverse();d.__core&&r.unshift("__core");v&&r.push(function(){if(!--p){u.returns=v();u.complete=true}});new k(r).start()}return u};var o=function(r,v){var q=false,u=true,x=r.document,w=x.documentElement,A=x.addEventListener?"addEventListener":"attachEvent",y=x.addEventListener?"removeEventListener":"detachEvent",p=x.addEventListener?"":"on",z=function(B){if(B.type=="readystatechange"&&x.readyState!="complete"){return}(B.type=="load"?r:x)[y](p+B.type,z,false);if(!q&&(q=true)){v.call(r,B.type||B)}},t=function(){try{w.doScroll("left")}catch(B){setTimeout(t,50);return}z("poll")};if(x.readyState=="complete"){v.call(r,"lazy")}else{if(x.createEventObject&&w.doScroll){try{u=!r.frameElement}catch(s){}if(u){t()}}x[A](p+"DOMContentLoaded",z,false);x[A](p+"readystatechange",z,false);r[A](p+"load",z,false)}};void function(){var q=(function(){var s=document.getElementsByTagName("script");return s[s.length-1]})();var r=q.getAttribute("autoload");var p=q.getAttribute("core");if(r==="true"&&p){f.autoload=r;f.core=p}if(f.autoload&&f.core){h()}}();h.add=n;h.config=i;h.css=g;h.later=a;h.load=l;h.ready=e;h.use=h;this.In=h}();
